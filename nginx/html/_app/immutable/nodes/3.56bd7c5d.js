import{s as h,f as p,n as c}from"../chunks/scheduler.63274e7e.js";import{S as f,i as g,g as y,z as _,h as w,y as k,f as l,k as v,x,A as E}from"../chunks/index.0765c294.js";function b(i){let t,a="",e,r,s;return{c(){t=y("script"),t.innerHTML=a,this.h()},l(n){const o=_("svelte-156y4tr",document.head);t=w(o,"SCRIPT",{src:!0,"data-svelte-h":!0}),k(t)!=="svelte-g2t9yy"&&(t.innerHTML=a),o.forEach(l),this.h()},h(){p(t.src,e="/rstudio/js/encrypt.min.js")||v(t,"src",e)},m(n,o){x(document.head,t),r||(s=E(t,"load",i[0]),r=!0)},p:c,i:c,o:c,d(n){l(t),r=!1,s()}}}function B(i){return[async()=>{const a=()=>window.location.href="/rstudio/";try{let e=await fetch("/rstudio/",{redirect:"manual"});if(e.ok||(e=await fetch("/rstudio/auth-sign-in",{redirect:"manual"}),!e.ok))return a();let r=await e.text();const s=new DOMParser().parseFromString(r,"text/html"),n=s.getElementsByName("public-key-url")[0].getAttribute("content");if(e=await fetch(`/rstudio/${n}`),!e.ok)return a();r=await e.text();const d=`${e.headers.get("Remote-User")}
passwd`,[u,m]=r.split(":",2);s.getElementById("clientPath").value="/rstudio/auth-sign-in",s.getElementById("package").value=encrypt(d,u,m),s.getElementById("persist").value="0",s.getElementsByName("realform")[0].submit()}finally{a()}}]}class S extends f{constructor(t){super(),g(this,t,B,b,h,{})}}export{S as component};
